{"version":3,"sources":["../../../../../assets/Script/system/assets/Script/system/SystemEvents.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/Script/system","sourcesContent":["/**\n * @desc: { 系统事件 } \n * @author: zhengyiqiu \n * @Create Date: 2020-06-23 10:21:00 \n * @Last Modified by: zhengyiqiu\n * @Last Modified time: 2020-06-30 19:44:44\n */\n\nconst { ccclass, property } = cc._decorator\n\n@ccclass\nexport default class SystemEvents extends cc.Component {\n  @property(cc.Label)\n  logLabel: cc.Label = null\n\n  @property(cc.Node)\n  onAudioInterruptionBegin: cc.Node = null\n\n  @property(cc.Node)\n  onAudioInterruptionEnd: cc.Node = null\n\n  @property(cc.Node)\n  onError: cc.Node = null\n\n  @property(cc.Node)\n  dispatchError: cc.Node = null\n\n  @property(cc.Node)\n  returnBtn: cc.Node = null\n  \n  start() {\n    this.onAudioInterruptionBegin.on(cc.Node.EventType.TOUCH_START, () => {\n      let onAudioInterruptionBeginCb = () => {\n        this.logLabel.getComponent(cc.Label).string = `onAudioInterruptionBegin success: ${new Date().toLocaleString()}`\n      }\n      if(cc.find(\"Background/Label\", this.onAudioInterruptionBegin).getComponent(cc.Label).string == '监听onAudioInterruptionBegin') {\n        qg.onAudioInterruptionBegin(onAudioInterruptionBeginCb)\n        cc.find(\"Background/Label\", this.onAudioInterruptionBegin).getComponent(cc.Label).string = '取消监听offAudioInterruptionBegin'\n      } else {\n        qg.offAudioInterruptionBegin()\n        this.logLabel.getComponent(cc.Label).string = \"取消监听offAudioInterruptionBegin\"\n        cc.find(\"Background/Label\", this.onAudioInterruptionBegin).getComponent(cc.Label).string = '监听onAudioInterruptionBegin'\n      }\n    })\n    this.onAudioInterruptionEnd.on(cc.Node.EventType.TOUCH_START, () => {\n      let onAudioInterruptionEndCb = () => {\n        console.log('onAudioInterruptionEnd')\n        this.logLabel.getComponent(cc.Label).string = `onAudioInterruptionEnd success: ${new Date().toLocaleString()}`\n      }\n      if(cc.find(\"Background/Label\", this.onAudioInterruptionEnd).getComponent(cc.Label).string == '监听onAudioInterruptionEnd') {\n        qg.onAudioInterruptionEnd(onAudioInterruptionEndCb)\n        cc.find(\"Background/Label\", this.onAudioInterruptionEnd).getComponent(cc.Label).string = '取消监听offAudioInterruptionEnd'\n      } else {\n        qg.offAudioInterruptionEnd()\n        this.logLabel.getComponent(cc.Label).string = \"取消监听offAudioInterruptionEnd\"\n        cc.find(\"Background/Label\", this.onAudioInterruptionEnd).getComponent(cc.Label).string = '监听onAudioInterruptionEnd'\n      }\n    })\n    this.onError.on(cc.Node.EventType.TOUCH_START, () => {\n      let onErrorCb = (res) => {\n        this.logLabel.getComponent(cc.Label).string = `onError success: ${res.message.slice(0, 149)}`\n      }\n      if(cc.find(\"Background/Label\", this.onError).getComponent(cc.Label).string == '监听onError') {\n        qg.onError(onErrorCb)\n        cc.find(\"Background/Label\", this.onError).getComponent(cc.Label).string = '取消监听offError'\n      } else {\n        qg.offError()\n        this.logLabel.getComponent(cc.Label).string = \"取消监听offError\"\n        cc.find(\"Background/Label\", this.onError).getComponent(cc.Label).string = '监听onError'\n      }\n    })\n\n    this.dispatchError.on(cc.Node.EventType.TOUCH_START, () => {\n      throw Error('dispatch Error')\n    })\n\n    this.returnBtn.on(cc.Node.EventType.TOUCH_START, () => {\n      cc.director.loadScene('system')\n    })\n  }\n\n  log(msg) {\n    console.log(msg)\n    this.logLabel.getComponent(cc.Label).string = msg\n  }\n}\n"]}