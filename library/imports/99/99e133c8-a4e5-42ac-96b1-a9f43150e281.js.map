{"version":3,"sources":["../../../../../assets/Script/system/assets/Script/system/SystemInfo.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/Script/system","sourcesContent":["/**\n * @desc: { 系统信息 } \n * @author: zhengyiqiu \n * @Create Date: 2020-06-28 17:33:31 \n * @Last Modified by: zhengyiqiu\n * @Last Modified time: 2021-10-12 16:20:39\n */\n\nconst { ccclass, property } = cc._decorator\n\n@ccclass\nexport default class SystemInfo extends cc.Component {\n  @property(cc.Label)\n  logLabel: cc.Label = null\n\n  @property(cc.Node)\n  asyncBtn: cc.Node = null\n\n  @property(cc.Node)\n  syncBtn: cc.Node = null\n\n  @property(cc.Node)\n  getManifestBtn: cc.Node = null\n\n  @property(cc.Node)\n  returnBtn: cc.Node = null\n\n  @property(cc.Node)\n  brand: cc.Node = null\n\n  @property(cc.Node)\n  model: cc.Node = null  \n  \n  @property(cc.Node)\n  pixelRatio: cc.Node = null\n    \n  @property(cc.Node)\n  screenWidth: cc.Node = null\n    \n  @property(cc.Node)\n  screenHeight: cc.Node = null\n    \n  @property(cc.Node)\n  windowHeight: cc.Node = null\n    \n  @property(cc.Node)\n  windowWidth: cc.Node = null\n    \n  @property(cc.Node)\n  language: cc.Node = null\n    \n  @property(cc.Node)\n  COREVersion: cc.Node = null\n      \n  @property(cc.Node)\n  platformVersionName: cc.Node = null\n      \n  @property(cc.Node)\n  system: cc.Node = null\n      \n  @property(cc.Node)\n  platformVersionCode: cc.Node = null\n      \n  @property(cc.Node)\n  statusBarHeight: cc.Node = null\n\n  start() {\n    const sucCb = () => {\n      this.log(`success`)\n    }\n\n    const failCb = () => {\n      this.log(`fail`)\n    }\n\n    this.asyncBtn.on(cc.Node.EventType.TOUCH_START, () => {\n      qg.getSystemInfo({\n        success: (res) => {\n          console.log(JSON.stringify(res))\n\n          this.logLabel.getComponent(cc.Label).string = '异步获取成功'\n          for(let key in res) {\n            if(this[key]) {\n              this[key].getComponent(cc.Label).string = res[key]\n            }\n\n          }\n        },\n        fail: (err) => {\n          this.logLabel.getComponent(cc.Label).string = err\n        }\n      })\n    })\n\n    this.syncBtn.on(cc.Node.EventType.TOUCH_START, () => {\n      const res = qg.getSystemInfoSync()\n      console.log(JSON.stringify(res))\n      this.logLabel.getComponent(cc.Label).string = '同步获取成功'\n      for(let key in res) {\n        if(this[key]) {\n          this[key].getComponent(cc.Label).string = res[key]\n        }\n      }\n    })\n\n    this.getManifestBtn.on(cc.Node.EventType.TOUCH_START, () => {\n      if(qg.getManifestInfo) {\n        qg.getManifestInfo({\n          success:  (res) => {\n            this.log(res.manifest);\n          },\n          fail: function (err) {\n            this.log('getManifest fail')\n          },\n        });\n      } else {\n        this.log('getManifest 支持最低平台版本号 1082 ')\n      }\n    })\n\n    this.returnBtn.on(cc.Node.EventType.TOUCH_START, () => {\n      cc.director.loadScene('system')\n    })\n  }\n\n  log(msg) {\n    console.log(msg)\n    this.logLabel.getComponent(cc.Label).string = msg\n  }\n}\n"]}