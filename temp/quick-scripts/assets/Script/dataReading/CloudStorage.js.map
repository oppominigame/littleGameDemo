{"version":3,"sources":["CloudStorage.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/Script/dataReading","sourcesContent":["/**\n * @desc: { 云存储 } \n * @author: zhengyiqiu \n * @Create Date: 2020-06-23 10:21:00 \n * @Last Modified by: zhengyiqiu\n * @Last Modified time: 2021-10-12 15:50:35\n */\n\nconst { ccclass, property } = cc._decorator\n\n@ccclass\nexport default class Storage extends cc.Component {\n  @property(cc.Label)\n  logLabel: cc.Label = null\n\n  @property(cc.Node)\n  set: cc.Node = null\n\n  @property(cc.Node)\n  get: cc.Node = null\n  \n  @property(cc.Node)\n  remove: cc.Node = null\n\n  @property(cc.Node)\n  returnBtn: cc.Node = null\n  \n  start() {\n    if(!qg.setUserCloudStorage) {\n      this.log('云存储 API 需支持最低平台版本号为1090')\n      return\n    }\n    this.set.on(cc.Node.EventType.TOUCH_START, () => {\n      qg.setUserCloudStorage({\n        KVDataList: [\n          {\n            miniGame: \"test\"\n          },\n        ],\n        success: (res) => {\n          this.log('存储 miniGame 成功')\n        },\n        fail: (res) => {\n          this.log(\"存储 miniGame 失败,注意先在平台能力模块中点登录\");\n        },\n      });\n    })\n    this.get.on(cc.Node.EventType.TOUCH_START, () => {\n      qg.getUserCloudStorage({\n        keyList: [\"miniGame\"], // 要获取的 key 列表\n        success: (res) => {\n          this.log(`读取 miniGame 值: ${res.KVDataList}`)\n        },\n        fail: (res) => {\n          this.log(\"获取 minGame 值: 失败\");\n        }\n      })\n    })\n    this.remove.on(cc.Node.EventType.TOUCH_START, () => {\n      qg.removeUserCloudStorage({\n        keyList: [\"miniGame\"], // 要删除的 key 列表,\n        success: (res) => {\n          this.log(`清除数据成功`)\n        },\n        fail: (res) => {\n          this.log(\"清除数据失败\");\n        },\n      });\n    })\n\n    this.returnBtn.on(cc.Node.EventType.TOUCH_START, () => {\n      cc.director.loadScene('dataReading')\n    })\n  }\n\n  log(msg) {\n    console.log(msg)\n    this.logLabel.getComponent(cc.Label).string = msg\n  }\n}\n"]}