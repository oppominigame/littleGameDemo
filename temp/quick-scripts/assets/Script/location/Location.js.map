{"version":3,"sources":["Location.ts"],"names":[],"mappings":";;;;AAAA;;;;;;GAMG;;AAEG,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAkB;AAG3C;IAAsC,4BAAY;IADlD;QAAA,qEAoDC;QAjDC,cAAQ,GAAa,IAAI,CAAA;QAGzB,iBAAW,GAAY,IAAI,CAAA;QAG3B,cAAQ,GAAa,IAAI,CAAA;QAEzB,eAAS,GAAa,IAAI,CAAA;QAE1B,WAAK,GAAa,IAAI,CAAA;QAEtB,cAAQ,GAAa,IAAI,CAAA;QAEzB,cAAQ,GAAa,IAAI,CAAA;QAEzB,sBAAgB,GAAa,IAAI,CAAA;QAEjC,wBAAkB,GAAa,IAAI,CAAA;QAEnC,eAAS,GAAY,IAAI,CAAA;;IA6B3B,CAAC;IA3BC,wBAAK,GAAL;QAAA,iBAqBC;QApBC,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE;YACjD,EAAE,CAAC,WAAW,CAAC;gBACX,kBAAkB;gBAClB,IAAI,EAAE,OAAO;gBACb,QAAQ,EAAE,IAAI;gBACd,OAAO,EAAE,UAAC,GAAG;oBACT,KAAI,IAAI,GAAG,IAAI,GAAG,EAAE;wBAClB,KAAI,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,CAAA;qBACnD;gBACL,CAAC;gBACD,kBAAkB;gBAClB,IAAI,EAAE,UAAC,GAAG;oBACN,wCAAwC;oBACxC,KAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBAClB,CAAC;aACJ,CAAC,CAAA;QACJ,CAAC,CAAC,CAAA;QACF,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE;YAC/C,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAA;QAC/B,CAAC,CAAC,CAAA;IACJ,CAAC;IAED,sBAAG,GAAH,UAAI,GAAG;QACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;QAChB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,GAAG,CAAA;IACnD,CAAC;IAhDD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8CACM;IAGzB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;iDACS;IAG3B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8CACM;IAEzB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;+CACO;IAE1B;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;2CACG;IAEtB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8CACM;IAEzB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8CACM;IAEzB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;sDACc;IAEjC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;wDACgB;IAEnC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;+CACO;IAtBN,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAmD5B;IAAD,eAAC;CAnDD,AAmDC,CAnDqC,EAAE,CAAC,SAAS,GAmDjD;kBAnDoB,QAAQ","file":"","sourceRoot":"../../../../../assets/Script/location","sourcesContent":["/**\n * @desc: { 位置 } \n * @author: zhengyiqiu \n * @Create Date: 2020-06-30 19:59:48 \n * @Last Modified by: zhengyiqiu\n * @Last Modified time: 2020-07-06 16:18:27\n */\n\nconst { ccclass, property } = cc._decorator\n\n@ccclass\nexport default class Location extends cc.Component {\n  @property(cc.Label)\n  logLabel: cc.Label = null\n\n  @property(cc.Node)\n  locationBtn: cc.Node = null\n\n  @property(cc.Label)\n  latitude: cc.Label = null\n  @property(cc.Label)\n  longitude: cc.Label = null\n  @property(cc.Label)\n  speed: cc.Label = null\n  @property(cc.Label)\n  accuracy: cc.Label = null\n  @property(cc.Label)\n  altitude: cc.Label = null\n  @property(cc.Label)\n  verticalAccuracy: cc.Label = null\n  @property(cc.Label)\n  horizontalAccuracy: cc.Label = null\n  @property(cc.Node)\n  returnBtn: cc.Node = null\n\n  start() {\n    this.locationBtn.on(cc.Node.EventType.TOUCH_START, () => {\n      qg.getLocation({\n          // 在授权弹框点击允许时，回调成功\n          type: 'wgs84',\n          altitude: true,\n          success: (res) => {\n              for(let key in res) {\n                this[key].getComponent(cc.Label).string = res[key]\n              }\n          },\n          // 在授权弹框点击拒绝时，授权失败\n          fail: (res) => {\n              // 点击拒绝时，会返回报错信息：\"authorization failed!\"\n              this.log(res);\n          }\n      })\n    })\n    this.returnBtn.on(cc.Node.EventType.TOUCH_START, () => {\n      cc.director.loadScene('main')\n    })\n  }\n\n  log(msg) {\n    console.log(msg)\n    this.logLabel.getComponent(cc.Label).string = msg\n  }\n}\n"]}