{"version":3,"sources":["Img.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/Script/media","sourcesContent":["/**\n * @desc: { 图片 } \n * @author: zhengyiqiu \n * @Create Date: 2020-06-29 17:43:49 \n * @Last Modified by: zhengyiqiu\n * @Last Modified time: 2021-10-12 17:33:55\n */\n\nconst { ccclass, property } = cc._decorator\n\n@ccclass\nexport default class Img extends cc.Component {\n  @property(cc.Label)\n  logLabel: cc.Label = null\n\n  @property(cc.Node)\n  chooseImg: cc.Node = null\n\n  @property(cc.Node)\n  previewImg: cc.Node = null\n\n  @property(cc.Node)\n  saveImg: cc.Node = null\n  \n  @property(cc.Node)\n  returnBtn: cc.Node = null\n  \n  start() {\n    let img\n    this.chooseImg.on(cc.Node.EventType.TOUCH_START, () => {\n      qg.chooseImage({\n        count: 1,\n        sizeType: ['original'],\n        sourceType: ['album'],\n        success: (res) => {\n          img = res.tempFilePaths\n          this.log(`${JSON.stringify(res)}`)\n        },\n        fail: (e) => {\n          this.log(JSON.stringify(e));\n        },\n      })\n    })\n\n    this.previewImg.on(cc.Node.EventType.TOUCH_START, () => {\n      if(img) {\n        qg.previewImage({\n          urls: img,\n          success: () => {\n            this.log(`预览图片成功`)\n          },\n          fail: (e) => {\n              this.log(e);\n          },\n        })\n      } else {\n        this.log('请先选择图片')\n      }\n    })\n\n    this.saveImg.on(cc.Node.EventType.TOUCH_START, () => {\n      if(img) {\n        qg.saveImageToPhotosAlbum({\n          filePath: img[0],\n          success: () => {\n            this.log(`保存图片成功`)\n          },\n          fail: (e) => {\n              this.log(e);\n          },\n        })\n      } else {\n        this.log('请先选择图片')\n      }\n    })\n\n    this.returnBtn.on(cc.Node.EventType.TOUCH_START, () => {\n      cc.director.loadScene('media')\n    })\n  }\n\n  log(msg) {\n    console.log(msg)\n    this.logLabel.getComponent(cc.Label).string = msg\n  }\n}\n"]}