{"version":3,"sources":["DeviceMotion.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../assets/Script/device","sourcesContent":["/**\n * @desc: { 设备方向 } \n * @author: zhengyiqiu \n * @Create Date: 2021-09-23 14:43:31 \n * @Last Modified by: zhengyiqiu\n * @Last Modified time: 2021-09-23 17:23:43\n */\nconst { ccclass, property } = cc._decorator\n\n@ccclass\nexport default class DeviceMotion extends cc.Component {\n  @property(cc.Label)\n  logLabel: cc.Label = null\n\n  @property(cc.Node)\n  onChangeBtn: cc.Node = null\n\n  @property(cc.Node)\n  startBtn: cc.Node = null\n\n  @property(cc.Node)\n  stopBtn: cc.Node = null\n\n  @property(cc.Node)\n  offChangeBtn: cc.Node = null\n\n  @property(cc.Node)\n  returnBtn: cc.Node = null\n\n  @property(cc.Node)\n  alphaLabel: cc.Node = null\n\n  @property(cc.Node)\n  betaLabel: cc.Node = null\n\n  @property(cc.Node)\n  gammaLabel: cc.Node = null\n  \n  start() {\n    const sucCb = () => {\n      this.log(`success`)\n    }\n\n    const failCb = () => {\n      this.log(`fail`)\n    }\n\n    const changeCb = (res) => {\n      this.alphaLabel.getComponent(cc.Label).string = res.alpha\n\n      this.betaLabel.getComponent(cc.Label).string = res.beta\n\n      this.gammaLabel.getComponent(cc.Label).string = res.gamma\n    }\n\n    this.onChangeBtn.on(cc.Node.EventType.TOUCH_START, () => {\n      qg.onDeviceMotionChange(changeCb)\n\n\n    })\n\n    this.startBtn.on(cc.Node.EventType.TOUCH_START, () => {\n      qg.startDeviceMotionListening({\n        success: sucCb,\n        fail: failCb\n      })\n    })\n\n    this.stopBtn.on(cc.Node.EventType.TOUCH_START, () => {\n      qg.stopDeviceMotionListening({\n        success: sucCb,\n        fail: failCb\n      })\n    })\n\n    this.offChangeBtn.on(cc.Node.EventType.TOUCH_START, () => {\n      qg.offDeviceMotionChange(changeCb)\n    })\n\n    this.returnBtn.on(cc.Node.EventType.TOUCH_START, () => {\n      cc.director.loadScene('device')\n    })\n  }\n\n  log(msg) {\n    console.log(msg)\n    this.logLabel.getComponent(cc.Label).string = msg\n  }\n}\n"]}